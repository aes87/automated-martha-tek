<svg viewBox="0 0 960 580" xmlns="http://www.w3.org/2000/svg" font-family="system-ui,-apple-system,Arial,sans-serif">
<defs>
  <marker id="ab" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#1971c2"/></marker>
  <marker id="ap" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#862e9c"/></marker>
  <marker id="ao" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#e67700"/></marker>
  <marker id="ar" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#c92a2a"/></marker>
  <marker id="ag" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#2f9e44"/></marker>
  <marker id="agy" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0,8 3,0 6" fill="#f59f00"/></marker>
</defs>
<rect width="960" height="580" fill="#f8f9fa" rx="10"/>
<text x="480" y="34" text-anchor="middle" font-size="17" font-weight="700" fill="#212529">DIY Martha Tent Controller — Architecture</text>
<rect x="390" y="220" width="180" height="150" rx="6" fill="#ebfbee" stroke="#2f9e44" stroke-width="1.8"/>
<text x="480" y="286" text-anchor="middle" font-size="11" font-weight="700" fill="#2f9e44">ESP32 DevKit V1</text>
<text x="480" y="300" text-anchor="middle" font-size="9" fill="#2f9e44">WiFi + dual-core</text>
<text x="480" y="314" text-anchor="middle" font-size="9" fill="#2f9e44">GPIO / I2C / 1-Wire / ADC</text>
<rect x="630" y="190" width="145" height="215" rx="6" fill="#fff9db" stroke="#f59f00" stroke-width="1.8"/>
<text x="702" y="288" text-anchor="middle" font-size="11" font-weight="700" fill="#f59f00">8-Ch Relay Module</text>
<text x="702" y="302" text-anchor="middle" font-size="9" fill="#f59f00">opto-isolated</text>
<text x="702" y="316" text-anchor="middle" font-size="9" fill="#f59f00">5V coil / mains load</text>
<text x="638" y="240" font-size="8.5" fill="#5c3d00">Ch1 Fogger</text>
<line x1="775" y1="236" x2="785" y2="236" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="260" font-size="8.5" fill="#5c3d00">Ch2 Tub fan</text>
<line x1="775" y1="256" x2="785" y2="256" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="280" font-size="8.5" fill="#5c3d00">Ch3 Exhaust fan</text>
<line x1="775" y1="276" x2="785" y2="276" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="300" font-size="8.5" fill="#5c3d00">Ch4 Intake fan</text>
<line x1="775" y1="296" x2="785" y2="296" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="320" font-size="8.5" fill="#5c3d00">Ch5 UVC</text>
<line x1="775" y1="316" x2="785" y2="316" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="340" font-size="8.5" fill="#5c3d00">Ch6 Lights</text>
<line x1="775" y1="336" x2="785" y2="336" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="360" font-size="8.5" fill="#5c3d00">Ch7 Pump (opt)</text>
<line x1="775" y1="356" x2="785" y2="356" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<text x="638" y="380" font-size="8.5" fill="#5c3d00">Ch8 Spare</text>
<line x1="775" y1="376" x2="785" y2="376" stroke="#e67700" stroke-width="1" opacity="0.5"/>
<line x1="570" y1="295" x2="630" y2="297" stroke="#f59f00" stroke-width="2" marker-end="url(#agy)"/>
<text x="575" y="290" font-size="9" fill="#f59f00">GPIO signals</text>
<text x="575" y="302" font-size="9" fill="#f59f00">(active LOW)</text>
<rect x="820" y="230" width="95" height="22" rx="4" fill="#d0ebff" stroke="#1971c2" stroke-width="1.8"/>
<text x="867" y="246" text-anchor="middle" font-size="11" font-weight="700" fill="#1971c2">Fogger</text>
<line x1="775" y1="236" x2="820" y2="241" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="258" width="95" height="22" rx="4" fill="#d0ebff" stroke="#1971c2" stroke-width="1.8"/>
<text x="867" y="274" text-anchor="middle" font-size="11" font-weight="700" fill="#1971c2">Tub fan</text>
<line x1="775" y1="256" x2="820" y2="269" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="286" width="95" height="22" rx="4" fill="#d3f9d8" stroke="#2f9e44" stroke-width="1.8"/>
<text x="867" y="302" text-anchor="middle" font-size="11" font-weight="700" fill="#2f9e44">Exhaust fan</text>
<line x1="775" y1="276" x2="820" y2="297" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="314" width="95" height="22" rx="4" fill="#d3f9d8" stroke="#2f9e44" stroke-width="1.8"/>
<text x="867" y="330" text-anchor="middle" font-size="11" font-weight="700" fill="#2f9e44">Intake fan</text>
<line x1="775" y1="296" x2="820" y2="325" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="342" width="95" height="22" rx="4" fill="#fff9db" stroke="#f59f00" stroke-width="1.8"/>
<text x="867" y="358" text-anchor="middle" font-size="11" font-weight="700" fill="#f59f00">UVC lights</text>
<line x1="775" y1="316" x2="820" y2="353" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="370" width="95" height="22" rx="4" fill="#fff9db" stroke="#f59f00" stroke-width="1.8"/>
<text x="867" y="386" text-anchor="middle" font-size="11" font-weight="700" fill="#f59f00">Grow lights</text>
<line x1="775" y1="336" x2="820" y2="381" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<rect x="820" y="398" width="95" height="22" rx="4" fill="#f3f0ff" stroke="#845ef7" stroke-width="1.8"/>
<text x="867" y="414" text-anchor="middle" font-size="11" font-weight="700" fill="#845ef7">Pump (opt)</text>
<line x1="775" y1="356" x2="820" y2="409" stroke="#c92a2a" stroke-width="1.8" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<text x="867" y="217" text-anchor="middle" font-size="10" font-weight="600" fill="#c92a2a">AC Loads (mains)</text>
<text x="160" y="67" text-anchor="middle" font-size="10" font-weight="600" fill="#1971c2">I²C Bus (GPIO 21/22)</text>
<rect x="30" y="75" width="260" height="38" rx="6" fill="#fff0f6" stroke="#c2255c" stroke-width="1.8"/>
<text x="160" y="85" text-anchor="middle" font-size="11" font-weight="700" fill="#c2255c">SCD30</text>
<text x="160" y="99" text-anchor="middle" font-size="9" fill="#c2255c">CO₂ sensor</text>
<text x="160" y="113" text-anchor="middle" font-size="9" fill="#c2255c">I2C 0x61</text>
<line x1="290" y1="94" x2="390" y2="260" stroke="#1971c2" stroke-width="1.5" marker-end="url(#ab)"/>
<rect x="30" y="123" width="260" height="38" rx="6" fill="#fff0f6" stroke="#c2255c" stroke-width="1.8"/>
<text x="160" y="133" text-anchor="middle" font-size="11" font-weight="700" fill="#c2255c">SHT45 ×3</text>
<text x="160" y="147" text-anchor="middle" font-size="9" fill="#c2255c">temp + RH per shelf</text>
<text x="160" y="161" text-anchor="middle" font-size="9" fill="#c2255c">I2C via TCA9548A</text>
<line x1="290" y1="142" x2="390" y2="260" stroke="#1971c2" stroke-width="1.5" marker-end="url(#ab)"/>
<rect x="30" y="171" width="260" height="38" rx="6" fill="#f8f0fc" stroke="#862e9c" stroke-width="1.8"/>
<text x="160" y="181" text-anchor="middle" font-size="11" font-weight="700" fill="#862e9c">TCA9548A</text>
<text x="160" y="195" text-anchor="middle" font-size="9" fill="#862e9c">I2C multiplexer</text>
<text x="160" y="209" text-anchor="middle" font-size="9" fill="#862e9c">I2C 0x70</text>
<line x1="290" y1="190" x2="390" y2="260" stroke="#1971c2" stroke-width="1.5" marker-end="url(#ab)"/>
<rect x="30" y="219" width="260" height="38" rx="6" fill="#f8f0fc" stroke="#862e9c" stroke-width="1.8"/>
<text x="160" y="229" text-anchor="middle" font-size="11" font-weight="700" fill="#862e9c">AS7341</text>
<text x="160" y="243" text-anchor="middle" font-size="9" fill="#862e9c">spectral light</text>
<text x="160" y="257" text-anchor="middle" font-size="9" fill="#862e9c">I2C 0x39</text>
<line x1="290" y1="238" x2="390" y2="260" stroke="#1971c2" stroke-width="1.5" marker-end="url(#ab)"/>
<text x="160" y="271" text-anchor="middle" font-size="10" font-weight="600" fill="#862e9c">1-Wire (GPIO 4)</text>
<rect x="30" y="283" width="260" height="38" rx="6" fill="#f8f0fc" stroke="#862e9c" stroke-width="1.8"/>
<text x="160" y="293" text-anchor="middle" font-size="11" font-weight="700" fill="#862e9c">DS18B20 ×5</text>
<text x="160" y="307" text-anchor="middle" font-size="9" fill="#862e9c">substrate temp probes</text>
<text x="160" y="321" text-anchor="middle" font-size="9" fill="#862e9c">one per shelf — daisy-chained</text>
<line x1="290" y1="302" x2="390" y2="300" stroke="#862e9c" stroke-width="1.5" stroke-dasharray="5,2" marker-end="url(#ap)"/>
<text x="160" y="335" text-anchor="middle" font-size="10" font-weight="600" fill="#e67700">ADC (GPIO 34)</text>
<rect x="30" y="347" width="260" height="38" rx="6" fill="#fff4e6" stroke="#e67700" stroke-width="1.8"/>
<text x="160" y="357" text-anchor="middle" font-size="11" font-weight="700" fill="#e67700">Water level sensor</text>
<text x="160" y="371" text-anchor="middle" font-size="9" fill="#e67700">submersible pressure</text>
<text x="160" y="385" text-anchor="middle" font-size="9" fill="#e67700">4-20mA → 12V</text>
<line x1="290" y1="366" x2="390" y2="340" stroke="#e67700" stroke-width="1.5" marker-end="url(#ao)"/>
<rect x="390" y="58" width="82" height="42" rx="6" fill="#fff9db" stroke="#f59f00" stroke-width="1.8"/>
<text x="431" y="77" text-anchor="middle" font-size="11" font-weight="700" fill="#f59f00">5V PSU</text>
<text x="431" y="91" text-anchor="middle" font-size="9" fill="#f59f00">logic + sensors</text>
<rect x="486" y="58" width="82" height="42" rx="6" fill="#ffe8cc" stroke="#e67700" stroke-width="1.8"/>
<text x="527" y="77" text-anchor="middle" font-size="11" font-weight="700" fill="#e67700">12V PSU</text>
<text x="527" y="91" text-anchor="middle" font-size="9" fill="#e67700">water sensor + pump</text>
<line x1="431" y1="100" x2="440" y2="220" stroke="#f59f00" stroke-width="2" marker-end="url(#agy)"/>
<line x1="527" y1="100" x2="520" y2="220" stroke="#e67700" stroke-width="2" marker-end="url(#ao)"/>
<text x="479" y="52" text-anchor="middle" font-size="9" fill="#c92a2a" font-weight="600">Mains In (fused)</text>
<line x1="479" y1="54" x2="479" y2="58" stroke="#c92a2a" stroke-width="2"/>
<rect x="390" y="400" width="180" height="80" rx="6" fill="#f3f0ff" stroke="#845ef7" stroke-width="1.8"/>
<text x="480" y="424" text-anchor="middle" font-size="11" font-weight="700" fill="#845ef7">Physical Failsafe Panel</text>
<text x="480" y="438" text-anchor="middle" font-size="9" fill="#845ef7">MASTER AUTO/MANUAL toggle</text>
<text x="480" y="452" text-anchor="middle" font-size="9" fill="#845ef7">+ 4 group switches (humidity /</text>
<text x="480" y="466" text-anchor="middle" font-size="9" fill="#845ef7">FAE / UVC / lights)</text>
<line x1="480" y1="400" x2="702" y2="405" stroke="#845ef7" stroke-width="1.5" stroke-dasharray="4,3"/>
<text x="578" y="440" font-size="9" fill="#845ef7">bypasses ESP32</text>
<text x="578" y="452" font-size="9" fill="#845ef7">relay signals</text>
<rect x="30" y="465" width="290" height="102" rx="5" fill="white" stroke="#dee2e6" stroke-width="1"/>
<text x="175" y="481" text-anchor="middle" font-size="11" font-weight="600" fill="#495057">Legend</text>
<line x1="40" y1="501" x2="66" y2="501" stroke="#1971c2" stroke-width="2" marker-end="url(#ab)"/>
<text x="72" y="505" font-size="10" fill="#1971c2">I²C bus</text>
<line x1="40" y1="525" x2="66" y2="525" stroke="#862e9c" stroke-width="2" stroke-dasharray="5,2" marker-end="url(#ap)"/>
<text x="72" y="529" font-size="10" fill="#862e9c">1-Wire bus</text>
<line x1="40" y1="549" x2="66" y2="549" stroke="#e67700" stroke-width="2" marker-end="url(#ao)"/>
<text x="72" y="553" font-size="10" fill="#e67700">ADC / 12V</text>
<line x1="185" y1="501" x2="211" y2="501" stroke="#f59f00" stroke-width="2" marker-end="url(#agy)"/>
<text x="217" y="505" font-size="10" fill="#f59f00">GPIO relay signals / 5V</text>
<line x1="185" y1="525" x2="211" y2="525" stroke="#c92a2a" stroke-width="2" stroke-dasharray="4,3" marker-end="url(#ar)"/>
<text x="217" y="529" font-size="10" fill="#c92a2a">Mains AC (120/240V)</text>
<line x1="185" y1="549" x2="211" y2="549" stroke="#845ef7" stroke-width="2" stroke-dasharray="4,3"/>
<text x="217" y="553" font-size="10" fill="#845ef7">Failsafe bypass</text>
</svg>